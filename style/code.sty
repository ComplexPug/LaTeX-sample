% !root = ../main.tex
\ProvidesPackage{code}[2022/04/017 v1.1.0]

% 美化
\usepackage{caption}
% 中文标点符号
\RequirePackage{xeCJKfntef}
% 颜色支持
\RequirePackage[dvipsnames]{xcolor}
% 代码提示
\RequirePackage{listings}

% texdoc listings page : 13

%%%% 代码 %%%
\lstset{
backgroundcolor=\color[rgb]{0.95,0.95,0.95},
	basicstyle          =   \sffamily,          % 基本代码风格
	keywordstyle        =   \bfseries,          % 关键字风格
	commentstyle        =   \rmfamily\itshape,  % 注释的风格，斜体
	stringstyle         =   \ttfamily,  % 字符串风格
	flexiblecolumns,                % 别问为什么，加上这个
	numbers             =   left,   % 行号的位置在左边
	showspaces          =   false,  % 是否显示空格，显示了有点乱，所以不现实了
	numberstyle         =   \zihao{-5}\ttfamily,    % 行号的样式，小五号，tt等宽字体
	showstringspaces    =   false,
	captionpos          =   t,      % 这段代码的名字所呈现的位置，t指的是top上面
	frame               =   hsides,   % 显示边框
}


% C++ 代码样式设置
\lstdefinestyle{c++}{
	language        =   C++, % 语言选C++
	basicstyle      =   \zihao{-5}\ttfamily,
	numberstyle     =   \zihao{-5}\ttfamily,
	keywordstyle    =   \color{blue},
	keywordstyle    =   [2] \color{teal},
	% stringstyle     =   \color{magenta},
	commentstyle    =   \color{green}\ttfamily,
	breaklines      =   true,   % 自动换行，建议不要写太长的行
	columns         =   fixed,  % 如果不加这一句，字间距就不固定，很丑，必须加
	basewidth       =   0.5em,
	morecomment     =   [l][\color{green}]{//},
	morecomment     =   [s][\color{green}]{/*}{*/},
	% morecomment     =   [n][\color{green}]{<}{>},
}

% Python 代码样式设置
\lstdefinestyle{python}{
	language        =   Python, % 语言选Python
	basicstyle      =   \zihao{-5}\ttfamily,
	numberstyle     =   \zihao{-5}\ttfamily,
	keywordstyle    =   \color{blue},
	keywordstyle    =   [2] \color{teal},
	% stringstyle     =   \color{magenta},
	commentstyle    =   \color{green}\ttfamily,
	breaklines      =   true,   % 自动换行，建议不要写太长的行
	columns         =   fixed,  % 如果不加这一句，字间距就不固定，很丑，必须加
	basewidth       =   0.5em,
	morecomment     =   [l][\color{green}]{\#},
}

% MASM 汇编代码样式设置
\lstdefinestyle{masm}{
	language        =   [x86masm]Assembler, % 语言选汇编
	basicstyle      =   \zihao{-5}\ttfamily,
	numberstyle     =   \zihao{-5}\ttfamily,
	keywordstyle    =   \color{blue},
	% stringstyle     =   \color{magenta},
	commentstyle    =   \color{green}\ttfamily,
	breaklines      =   true,   % 自动换行，建议不要写太长的行
	columns         =   fixed,  % 如果不加这一句，字间距就不固定，很丑，必须加
	basewidth       =   0.5em,
	morecomment     =   [l][\color{green}]{;},
}